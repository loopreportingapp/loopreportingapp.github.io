<!doctype html>
<html lang="en">
    <head>
        <title>PNG LOOP | Reporting App | Home Page</title>
        <script src="http://d3js.org/d3.v3.min.js"></script>
        <script src="../d3.min.js"></script>
        <script src="../jquery.js"></script>
        <link rel="stylesheet" href="../font-awesome/css/font-awesome.min.css" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="../style.css">
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
        <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Tangerine" />
        <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Oswald" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

    </head>

    <body>
        <div id="wrapper" class="container">
            <header class="container">
                <a href="../index.html" ><img src="../img/logo21.png" /></a>
                <a href="../index.html" ><h1 id="site-title">reporting application</h1></a>
            </header>
            <div id="insert-menu"></div>
    <!-- nav ends -->
            <div class="container" id="chart2">
                <div class="col-md-8">
                    <h1 class="text-uppercase">DECEMBER week four</h1>
                    <div class="text-warning">
                        <p>Below is a bar chart showing the contribution of each Reporter for the Fourth week of December (22nd to 31st). Beside the name of the reporter is the total number of stories published. If you have any Queries please contact <a href="mailto:Sylver.Yagi@loopnewsgroup.com">Sylver Yagi</a></p>
                    </div>
                    <hr />
                    <script>
                        d3.json("../data/dec-04.json", function (data) {
                            
                            var width=750;
                            var height=400;
                            var highestValueInDataRange = 75;
                            //var highestValueInDataRange = d3.max(d.count);

                            var widthScale = d3.scale.linear()
                                                .domain([0,highestValueInDataRange])
                                                .range([0,width]);

                            var color = d3.scale.linear()
                                            .domain([0,60])
                                            .range(["red","yellow"]);

                            var axis = d3.svg.axis()
                                        .ticks(10)
                                        .scale(widthScale);

                            var canvas = d3.select("#chart2").append("svg")
                                .attr("width",width)
                                .attr("height",height);
                                // .append("g")
                                // .append("transform","translate(0,25)");

                            var bars = canvas.selectAll("rect")
                                .data(data)
                                .enter()
                                    .append("rect")
                                    .attr("width", function (d){ return widthScale(d.COUNT); }) //function(d){return widthScale(d);})
                                    .attr("height",40)
                                    .attr("y", function (d,i) {return i * 50;})
                                    .attr("fill", "#ccc");
                                    //.attr("fill", function(d){return color(d);} );  
                            
                            canvas.selectAll("text")
                                .data(data)
                                .enter()
                                    .append("text")
                                    .attr("fill","red")
                                    .attr("y", function (d,i) {return i * 50 + 25;})
                                    .text(function (d){return d.AUTHOR + " - " + d.COUNT;})
                                    .attr("x", function (d,i) {return i + 15;});

                            canvas.append("g")
                                .attr("transform","translate(0,350)")
                                .attr("fill", "maroon")
                                .call(axis);
                        });        
                    </script>
                </div>
            <div id="insert-sidebar"></div>
        </div>
        <div id="insert-footer"></div>
        <script>
              $(function(){
                $("#insert-menu").load("../menu-reports.html");
                $("#insert-sidebar").load("../sidebar.html");
                $("#insert-footer").load("../footer.html");
              })
        </script>
    </body>
</html>